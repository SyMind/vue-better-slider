webpackJsonp([1],{"9PmS":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),n={data:function(){return{items:new Array(100).fill(0).map(function(t,i){return{id:"#"+i}}),trigger:!1}},methods:{touchStartEventHandle:function(){this.trigger=!this.trigger},clickFrontEventHandle:function(t){t.event,t.component},clickBackEventHandle:function(t){var i=t.event,e=t.component;i.target.className.indexOf("delete")>-1&&e.close()}}},a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"wrapper"},[e("better-slider",{attrs:{right:60,left:60,trigger:t.trigger},on:{touchStartEvent:t.touchStartEventHandle,clickFrontEvent:t.clickFrontEventHandle,clickBackEvent:t.clickBackEventHandle}},[e("div",{staticClass:"front",attrs:{slot:"front"},slot:"front"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v("这是一条消息")]),t._v(" "),e("div",{staticClass:"description"},[t._v("这里是消息的内容")])])]),t._v(" "),e("div",{staticClass:"back",attrs:{slot:"back"},slot:"back"},[e("div",{staticClass:"read"},[t._v("已读")]),t._v(" "),e("div",{staticClass:"delete"},[t._v("删除")])])]),t._v(" "),t._l(t.items,function(i){return e("better-slider",{key:i.id,attrs:{right:60,trigger:t.trigger},on:{touchStartEvent:t.touchStartEventHandle,clickFrontEvent:t.clickFrontEventHandle,clickBackEvent:t.clickBackEventHandle}},[e("div",{staticClass:"front",attrs:{slot:"front"},slot:"front"},[e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[t._v(t._s(i.id)+"的标题")]),t._v(" "),e("div",{staticClass:"description"},[t._v(t._s(i.id)+"的描述信息")])])]),t._v(" "),e("div",{staticClass:"back",attrs:{slot:"back"},slot:"back"},[e("div",{staticClass:"delete"},[t._v("删除")])])])})],2)},staticRenderFns:[]};var r=e("VU/8")(n,a,!1,function(t){e("gSB5")},null,null).exports;function o(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}var c={name:"better-slider",props:{right:{type:Number,default:80},left:{type:Number,default:0},deceleration:{type:Number,default:.01},momentum:{type:Boolean,default:!0},momentumTime:{type:Number,default:100},momentumLimitTime:{type:Number,default:300},momentumLimitDistance:{type:Number,default:15},bounce:{type:Boolean,default:!0},bounceTime:{type:Number,default:200},slideTime:{type:Number,default:200},closeTime:{type:Number,default:300},rightBackgroundColor:{type:String,default:"red"},leftBackgroundColor:{type:String,default:"#ccc"},trigger:{type:Boolean,default:!1}},data:function(){return{x:0,wrapperX:0,duration:0,easing:{},isBackShow:!1}},methods:{clickBackEventHandle:function(t){this.$emit("clickBackEvent",{event:t,component:this})},clickFrontEventHandle:function(t){this.$emit("clickFrontEvent",{event:t,component:this})},close:function(){this.$el.style.height=0;var t=this.$refs.wrapper.style;t.transitionDuration=this.closeTime+"ms",t.transform="translate("+-this.$refs.front.offsetWidth+"px, 0px) translateZ(0px)",this.wrapperX=-this.$refs.front.offsetWidth,this.isClosing=!0},start:function(t){this.isTouch=!0,this.isBackShow=!0,this.$emit("touchStartEvent"),this.duration=this.slideTime,this.x=0,this.distX=0,this.startTime=o();var i=t.touches[0];this.startX=this.x,this.absStartX=this.x,this.touchX=i.pageX},move:function(t){this.duration=0;var i=t.touches[0],e=i.pageX-this.touchX;this.touchX=i.pageX,this.distX+=e;var s=Math.abs(this.distX),n=o();if(!(n-this.endTime>this.momentumLimitTime&&s<this.momentumLimitDistance)){var a=this.x+e;0===this.left&&a>this.maxScrollX||0===this.right&&a<this.minScrollX||((a<this.minScrollX||a>this.maxScrollX)&&(a=this.bounce?this.x+e/3:a<this.minScrollX?this.minScrollX:this.maxScrollX),this.x=a,n-this.startTime>this.momentumLimitTime&&(this.startTime=n,this.startX=this.x))}},end:function(t){this.isTouch=!1,this.endTime=o();var i=this.endTime-this.startTime,e=Math.abs(this.x-this.startX);if(this.momentum&&i<this.momentumLimitTime&&e>this.momentumLimitDistance){var s=function(t,i,e,s,n,a,r,o){var c=t-i,l=r,h=t+Math.abs(c)/e/o*(c<0?-1:1);return h<n-a?h=n-a:h>a+s&&(h=a+s),{destination:Math.round(h),duration:l}}(this.x,this.startX,i,this.minScrollX,this.maxScrollX,this.$el.offsetWidth,this.momentumTime,this.deceleration);this.duration=s.duration,this.x=s.destination,this.easing=this.ease.momentum}else this.x<1/3*this.minScrollX?(this.duration=this.slideTime,this.easing=this.ease.slide,this.x=this.minScrollX):this.x>1/3*this.maxScrollX?(this.duration=this.slideTime,this.easing=this.ease.slide,this.x=this.maxScrollX):(this.duration=this.bounceTime,this.easing=this.ease.slideTime,this.x=0)},transitionEnd:function(t){0===this.x&&(this.isBackShow=!1),t.target.className.indexOf("better-slider")>-1&&this.isClosing&&0===this.$el.offsetHeight?this.$emit("deleteTransitionEndEvent",this):this.resetPosition(this.bounceTime,this.ease.bounce)},resetPosition:function(t,i){this.isRightOpened?this.x=this.minScrollX:this.isLeftOpened?this.x=this.maxScrollX:this.x=0,this.duration=t,this.easing=i}},created:function(){this.minScrollX=-this.right,this.maxScrollX=this.left,this.isClosing=!1,this.ease={slide:"ease-in",momentum:"ease-out"}},mounted:function(){this.$el.style.height=Math.ceil(this.$slots.front[0].elm.offsetHeight)+"px"},watch:{x:function(){var t=this.$el.style;0===this.x?(t.backgroundColor="",this.isLeftOpened=!1,this.isRightOpened=!1):this.x>0?(this.isLeftOpened=!0,this.isRightOpened=!1,t.backgroundColor=this.leftBackgroundColor):(this.isLeftOpened=!1,this.isRightOpened=!0,t.backgroundColor=this.rightBackgroundColor)},trigger:function(){this.isTouch||(this.duration=this.slideTime,this.x=0)}}},l={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"better-slider",staticStyle:{"transition-property":"height","transition-timing-function":"'ease-in"},style:{"transition-duration":t.closeTime+"ms"},on:{transitionEnd:t.transitionEnd,webkitTransitionEnd:t.transitionEnd,oTransitionEnd:t.transitionEnd,MSTransitionEnd:t.transitionEnd}},[e("div",{ref:"wrapper",staticClass:"better-slider-wrapper",staticStyle:{"transition-property":"transform","transition-timing-function":"ease-in-out"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isBackShow,expression:"isBackShow"}],ref:"back",staticClass:"better-slider-back",on:{click:t.clickBackEventHandle}},[t._t("back")],2),t._v(" "),e("div",{ref:"front",staticClass:"better-slider-front",staticStyle:{"transition-property":"transform"},style:{"transition-timing-function":t.easing,"transition-duration":t.duration+"ms",transform:"translate("+t.x+"px, 0px) translateZ(0px)"},on:{touchstart:t.start,touchmove:t.move,touchend:t.end,click:t.clickFrontEventHandle}},[t._t("front")],2)])])},staticRenderFns:[]};var h=e("VU/8")(c,l,!1,function(t){e("zqvB")},"data-v-7f1b398c",null).exports,d={install:function(t,i){t.component(h.name,h)}};s.a.config.productionTip=!1,s.a.use(d),new s.a({el:"#app",components:{App:r},template:"<App/>"})},gSB5:function(t,i){},zqvB:function(t,i){}},["9PmS"]);
//# sourceMappingURL=app.34b102bd91f6ee9a8bf1.js.map